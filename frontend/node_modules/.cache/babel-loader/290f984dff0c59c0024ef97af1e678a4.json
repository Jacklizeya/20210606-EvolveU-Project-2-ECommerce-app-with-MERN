{"ast":null,"code":"import _regeneratorRuntime from\"/home/jack/Desktop/Software Codebase/20210514 E-Commerce Version1/3d2021store/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/jack/Desktop/Software Codebase/20210514 E-Commerce Version1/3d2021store/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import axios from\"axios\";import{CART_ADD_ITEM,CART_REMOVE_ITEM,CART_SAVE_SHIPPING_ADDRESS,CART_SAVE_PAYMENT_METHOD}from\"../constants/cartConstants\";export var addToCart=function addToCart(id,qty){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch,getState){var _yield$axios$get,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(\"/api/products/\".concat(id));case 2:_yield$axios$get=_context.sent;data=_yield$axios$get.data;console.log(\"id and qty\",id,qty,typeof qty);dispatch({type:CART_ADD_ITEM,payload:{product:data._id,name:data.name,image:data.image,price:data.price,countInStock:data.countInStock,qty:Number(qty)// this is a shorthand\n}});//      this sounds like a cache\nlocalStorage.setItem(\"cartItems\",JSON.stringify(getState().cart.cartItems));case 7:case\"end\":return _context.stop();}}},_callee);}));return function(_x,_x2){return _ref.apply(this,arguments);};}();};export var removeFromCart=function removeFromCart(id){return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(dispatch,getState){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:dispatch({type:CART_REMOVE_ITEM,payload:id});//      this sounds like a cache\nlocalStorage.setItem(\"cartItems\",JSON.stringify(getState().cart.cartItems));case 2:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x3,_x4){return _ref2.apply(this,arguments);};}();};export var savingShippingAddress=function savingShippingAddress(data){return/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(dispatch){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:dispatch({type:CART_SAVE_SHIPPING_ADDRESS,payload:data});//      this sounds like a cache\nlocalStorage.setItem(\"shippingAddress\",JSON.stringify(data));case 2:case\"end\":return _context3.stop();}}},_callee3);}));return function(_x5){return _ref3.apply(this,arguments);};}();};export var savePaymentMethod=function savePaymentMethod(data){return/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(dispatch){return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:dispatch({type:CART_SAVE_PAYMENT_METHOD,payload:data});//      this sounds like a cache\nlocalStorage.setItem(\"paymentMethod\",JSON.stringify(data));case 2:case\"end\":return _context4.stop();}}},_callee4);}));return function(_x6){return _ref4.apply(this,arguments);};}();};","map":{"version":3,"sources":["/home/jack/Desktop/Software Codebase/20210514 E-Commerce Version1/3d2021store/frontend/src/actions/cartAction.js"],"names":["axios","CART_ADD_ITEM","CART_REMOVE_ITEM","CART_SAVE_SHIPPING_ADDRESS","CART_SAVE_PAYMENT_METHOD","addToCart","id","qty","dispatch","getState","get","data","console","log","type","payload","product","_id","name","image","price","countInStock","Number","localStorage","setItem","JSON","stringify","cart","cartItems","removeFromCart","savingShippingAddress","savePaymentMethod"],"mappings":"uZAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAAQC,aAAR,CAAuBC,gBAAvB,CAAyCC,0BAAzC,CAAqEC,wBAArE,KAAoG,4BAApG,CAEA,MAAO,IAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,CAACC,EAAD,CAAKC,GAAL,CAAa,CAClC,+FAAO,iBAAMC,QAAN,CAAgBC,QAAhB,kKACkBT,CAAAA,KAAK,CAACU,GAAN,yBAA2BJ,EAA3B,EADlB,uCACIK,IADJ,kBACIA,IADJ,CAEHC,OAAO,CAACC,GAAR,CAAY,YAAZ,CAA0BP,EAA1B,CAA8BC,GAA9B,CAAmC,MAAOA,CAAAA,GAA1C,EACAC,QAAQ,CAAC,CACLM,IAAI,CAAEb,aADD,CAELc,OAAO,CAAE,CACLC,OAAO,CAAEL,IAAI,CAACM,GADT,CAELC,IAAI,CAAEP,IAAI,CAACO,IAFN,CAGLC,KAAK,CAAER,IAAI,CAACQ,KAHP,CAILC,KAAK,CAAET,IAAI,CAACS,KAJP,CAKLC,YAAY,CAAEV,IAAI,CAACU,YALd,CAMLd,GAAG,CAAEe,MAAM,CAACf,GAAD,CACX;AAPK,CAFJ,CAAD,CAAR,CAYR;AACQgB,YAAY,CAACC,OAAb,CAAqB,WAArB,CAAkCC,IAAI,CAACC,SAAL,CAAejB,QAAQ,GAAGkB,IAAX,CAAgBC,SAA/B,CAAlC,EAhBG,sDAAP,mEAkBH,CAnBM,CAqBP,MAAO,IAAMC,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,CAACvB,EAAD,CAAQ,CAClC,gGAAO,kBAAME,QAAN,CAAgBC,QAAhB,sHACHD,QAAQ,CAAC,CACLM,IAAI,CAAEZ,gBADD,CAELa,OAAO,CAAET,EAFJ,CAAD,CAAR,CAIR;AACQiB,YAAY,CAACC,OAAb,CAAqB,WAArB,CAAkCC,IAAI,CAACC,SAAL,CAAejB,QAAQ,GAAGkB,IAAX,CAAgBC,SAA/B,CAAlC,EANG,wDAAP,qEAQH,CATM,CAWP,MAAO,IAAME,CAAAA,qBAAqB,CAAG,QAAxBA,CAAAA,qBAAwB,CAACnB,IAAD,CAAU,CAC3C,gGAAO,kBAAMH,QAAN,sHACHA,QAAQ,CAAC,CACLM,IAAI,CAAEX,0BADD,CAELY,OAAO,CAAEJ,IAFJ,CAAD,CAAR,CAIR;AACQY,YAAY,CAACC,OAAb,CAAqB,iBAArB,CAAwCC,IAAI,CAACC,SAAL,CAAef,IAAf,CAAxC,EANG,wDAAP,iEAQH,CATM,CAWP,MAAO,IAAMoB,CAAAA,iBAAiB,CAAG,QAApBA,CAAAA,iBAAoB,CAACpB,IAAD,CAAU,CACvC,gGAAO,kBAAMH,QAAN,sHACHA,QAAQ,CAAC,CACLM,IAAI,CAAEV,wBADD,CAELW,OAAO,CAAEJ,IAFJ,CAAD,CAAR,CAIR;AACQY,YAAY,CAACC,OAAb,CAAqB,eAArB,CAAsCC,IAAI,CAACC,SAAL,CAAef,IAAf,CAAtC,EANG,wDAAP,iEAQH,CATM","sourcesContent":["import axios from \"axios\"\nimport {CART_ADD_ITEM, CART_REMOVE_ITEM, CART_SAVE_SHIPPING_ADDRESS, CART_SAVE_PAYMENT_METHOD} from \"../constants/cartConstants\"\n\nexport const addToCart = (id, qty) => {\n    return async(dispatch, getState) => {\n        const {data} = await axios.get(`/api/products/${id}`)\n        console.log(\"id and qty\", id, qty, typeof(qty))\n        dispatch({\n            type: CART_ADD_ITEM,\n            payload: {\n                product: data._id,\n                name: data.name,\n                image: data.image,\n                price: data.price,\n                countInStock: data.countInStock,\n                qty: Number(qty)\n                // this is a shorthand\n            },\n        })\n//      this sounds like a cache\n        localStorage.setItem(\"cartItems\", JSON.stringify(getState().cart.cartItems))\n    }\n}\n\nexport const removeFromCart = (id) => {\n    return async(dispatch, getState) => {    \n        dispatch({\n            type: CART_REMOVE_ITEM,\n            payload: id},\n        )\n//      this sounds like a cache\n        localStorage.setItem(\"cartItems\", JSON.stringify(getState().cart.cartItems))\n    }\n}\n\nexport const savingShippingAddress = (data) => {\n    return async(dispatch) => {    \n        dispatch({\n            type: CART_SAVE_SHIPPING_ADDRESS,\n            payload: data},\n        )\n//      this sounds like a cache\n        localStorage.setItem(\"shippingAddress\", JSON.stringify(data))\n    }\n}\n\nexport const savePaymentMethod = (data) => {\n    return async(dispatch) => {    \n        dispatch({\n            type: CART_SAVE_PAYMENT_METHOD,\n            payload: data},\n        )\n//      this sounds like a cache\n        localStorage.setItem(\"paymentMethod\", JSON.stringify(data))\n    }\n}"]},"metadata":{},"sourceType":"module"}