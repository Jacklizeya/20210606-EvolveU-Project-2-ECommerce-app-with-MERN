{"ast":null,"code":"import { CART_ADD_ITEM, CART_REMOVE_ITEM, CART_SAVE_SHIPPING_ADDRESS } from \"../constants/cartConstants\";\nexport const cartReducer = (state = {\n  cartItems: [],\n  shippingAddress: {}\n}, action) => {\n  switch (action.type) {\n    case CART_ADD_ITEM:\n      {\n        const item = action.payload; // this contains the information about what I want to buy\n        // this contains the information about what I have in the cart already\n\n        const existItem = state.cartItems.find(x => x.product === item.product); //          return the first item that matches the criteria\n\n        if (existItem) {\n          return { ...state,\n            cartItems: state.cartItems.map(x => x.product === item.product ? item : x)\n          }; // replace with payload or use the old one\n        } else {\n          return { ...state,\n            cartItems: [...state.cartItems, item]\n          };\n        }\n      }\n\n    case CART_REMOVE_ITEM:\n      {\n        return { ...state,\n          cartItems: state.cartItems.filter(x => x.product !== action.payload)\n        };\n      }\n\n    case CART_SAVE_SHIPPING_ADDRESS:\n      {\n        return { ...state,\n          shippingAddress: action.payload\n        };\n      }\n\n    default:\n      return state;\n  }\n};","map":{"version":3,"sources":["/home/jack/Desktop/Software Codebase/20210514 E-Commerce Version1/frontend/src/reducers/cartReducer.js"],"names":["CART_ADD_ITEM","CART_REMOVE_ITEM","CART_SAVE_SHIPPING_ADDRESS","cartReducer","state","cartItems","shippingAddress","action","type","item","payload","existItem","find","x","product","map","filter"],"mappings":"AAAA,SAAQA,aAAR,EAAuBC,gBAAvB,EAAyCC,0BAAzC,QAA0E,4BAA1E;AAEA,OAAO,MAAMC,WAAW,GAAG,CAACC,KAAK,GAAG;AAACC,EAAAA,SAAS,EAAE,EAAZ;AAAgBC,EAAAA,eAAe,EAAG;AAAlC,CAAT,EAAiDC,MAAjD,KAA4D;AACnF,UAAOA,MAAM,CAACC,IAAd;AACI,SAAKR,aAAL;AAAwB;AACpB,cAAMS,IAAI,GAAGF,MAAM,CAACG,OAApB,CADoB,CACS;AAC7B;;AACA,cAAMC,SAAS,GAAGP,KAAK,CAACC,SAAN,CAAgBO,IAAhB,CAAqBC,CAAC,IAAIA,CAAC,CAACC,OAAF,KAAcL,IAAI,CAACK,OAA7C,CAAlB,CAHoB,CAIhC;;AACY,YAAIH,SAAJ,EAAe;AACX,iBAAO,EAAC,GAAGP,KAAJ;AACHC,YAAAA,SAAS,EAAED,KAAK,CAACC,SAAN,CAAgBU,GAAhB,CAAoBF,CAAC,IAAIA,CAAC,CAACC,OAAF,KAAcL,IAAI,CAACK,OAAnB,GAA4BL,IAA5B,GAAmCI,CAA5D;AADR,WAAP,CADW,CAEqE;AACnF,SAHD,MAGO;AAAC,iBAAO,EAAC,GAAGT,KAAJ;AAAWC,YAAAA,SAAS,EAAE,CAAC,GAAGD,KAAK,CAACC,SAAV,EAAqBI,IAArB;AAAtB,WAAP;AAAyD;AAEpE;;AACD,SAAKR,gBAAL;AAAwB;AACpB,eAAO,EAAC,GAAGG,KAAJ;AAAWC,UAAAA,SAAS,EAAED,KAAK,CAACC,SAAN,CAAgBW,MAAhB,CAAuBH,CAAC,IAAIA,CAAC,CAACC,OAAF,KAAcP,MAAM,CAACG,OAAjD;AAAtB,SAAP;AACH;;AACD,SAAKR,0BAAL;AAAkC;AAC9B,eAAO,EAAC,GAAGE,KAAJ;AAAWE,UAAAA,eAAe,EAAEC,MAAM,CAACG;AAAnC,SAAP;AACH;;AAID;AAAS,aAAON,KAAP;AArBb;AA0BH,CA3BM","sourcesContent":["import {CART_ADD_ITEM, CART_REMOVE_ITEM, CART_SAVE_SHIPPING_ADDRESS} from \"../constants/cartConstants\"\n\nexport const cartReducer = (state = {cartItems: [], shippingAddress : {}} , action) => {\n    switch(action.type) {\n        case CART_ADD_ITEM    : {\n            const item = action.payload  // this contains the information about what I want to buy\n            // this contains the information about what I have in the cart already\n            const existItem = state.cartItems.find(x => x.product === item.product)\n//          return the first item that matches the criteria\n            if (existItem) {\n                return {...state, \n                    cartItems: state.cartItems.map(x => x.product === item.product? item : x )} // replace with payload or use the old one\n            } else {return {...state, cartItems: [...state.cartItems, item]}}\n\n        }\n        case CART_REMOVE_ITEM : {\n            return {...state, cartItems: state.cartItems.filter(x => x.product !== action.payload)}\n        }\n        case CART_SAVE_SHIPPING_ADDRESS : {\n            return {...state, shippingAddress: action.payload}\n        }\n\n\n\n        default: return state\n    }\n\n\n\n}"]},"metadata":{},"sourceType":"module"}